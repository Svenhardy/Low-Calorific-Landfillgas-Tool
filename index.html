<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Low-Calorific Landfill Gas Tool</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <h1>Low-Calorific Landfill Gas Tool</h1>
        
        <div class="tabs">
            <div class="tab active" data-tab="input">Input Parameters</div>
            <div class="tab" data-tab="gas-development">Gas Development</div>
            <div class="tab" data-tab="general-results">General Results</div>
            <div class="tab" data-tab="ecological-results">Ecological Results</div>
            <div class="tab" data-tab="economic-results">Economic Results</div>
            <div class="tab" data-tab="verification">Verification</div>
        </div>
        
        <!-- Input Parameters Tab -->
        <div class="tab-content active" id="input">
            <div class="input-row row-1">
                <div class="row-header">
                    <div class="circle green">1</div>
                    <h3>Gas Specific Parameters</h3>
                </div>
                <p>Please indicate the quantity and quality of the LFG output of your landfill as well as the time horizon over which you intend to use the gas. The tool will calculate the gas development over this time period automatically or you can enter it manually.</p>
                
                <div class="input-group">
                    <label for="gas-volume">A: Initial Gas Volume [mÂ³/h]</label>
                    <input type="number" id="gas-volume" step="0.1" min="0" value="100">
                    <label>
                        <input type="checkbox" id="manual-gas-volume"> manual entry
                    </label>
                    <div class="manual-input" id="manual-gas-volume-fields" style="display: none;">
                        <div class="manual-input-fields" id="gas-volume-years"></div>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="methane-content">B: Initial Methane Content [%]</label>
                    <input type="number" id="methane-content" step="0.1" min="0" max="100" value="50">
                    <label>
                        <input type="checkbox" id="manual-methane-content"> manual entry
                    </label>
                    <div class="manual-input" id="manual-methane-content-fields" style="display: none;">
                        <div class="manual-input-fields" id="methane-content-years"></div>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="time-horizon">C: Time Horizon [years]</label>
                    <input type="number" id="time-horizon" min="1" max="50" value="10">
                </div>
            </div>
            
            <div class="input-row row-2">
                <div class="row-header">
                    <div class="circle orange">2</div>
                    <h3>Country and Economic Parameters</h3>
                </div>
                
                <div class="input-group">
                    <label for="country">D: Project Country</label>
                    <select id="country">
                        <option value="Germany">Germany</option>
                        <option value="Poland">Poland</option>
                        <option value="Sweden">Sweden</option>
                        <option value="Lithuania">Lithuania</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="electricity-price">E: Electricity Price [â‚¬/kWh el.]</label>
                    <input type="number" id="electricity-price" step="0.01" min="0" value="0.2">
                    <label>
                        <input type="checkbox" id="manual-electricity-price"> manual entry
                    </label>
                </div>
                
                <div class="input-group">
                    <label for="thermal-price">F: Thermal Energy Price [â‚¬/kWh th.]</label>
                    <input type="number" id="thermal-price" step="0.01" min="0" value="0.3">
                    <label>
                        <input type="checkbox" id="manual-thermal-price"> manual entry
                    </label>
                </div>
                
                <div class="input-group">
                    <label for="depreciation-period">G: Depreciation Period [years]</label>
                    <input type="number" id="depreciation-period" min="1" max="50" value="3">
                    <label>
                        <input type="checkbox" id="manual-depreciation"> manual entry
                    </label>
                </div>
                
                <div class="input-group">
                    <label for="tax-rate">H: Tax Rate [%]</label>
                    <input type="number" id="tax-rate" step="0.1" min="0" max="100" value="20">
                    <label>
                        <input type="checkbox" id="manual-tax-rate"> manual entry
                    </label>
                </div>
                
                <div class="input-group">
                    <label for="discount-rate">I: Discount Rate [%/year]</label>
                    <input type="number" id="discount-rate" step="0.1" min="0" value="4">
                    <label>
                        <input type="checkbox" id="manual-discount-rate"> manual entry
                    </label>
                </div>
            </div>
            
            <div class="input-row row-3">
                <div class="row-header">
                    <div class="circle gray">3</div>
                    <h3>Technology Specific Parameters</h3>
                </div>
                
                <div class="input-group">
                    <label for="energy-source">J: Energy Source</label>
                    <select id="energy-source">
                        <option value="Renewable">Renewable</option>
                        <option value="Country">Country Specific</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="operating-hours">K: Annual Operating Hours [h/a]</label>
                    <input type="number" id="operating-hours" min="0" max="8760" value="8000">
                </div>
                
                <div class="input-group">
                    <label for="fuel-type">L: Type of Additional Fuel</label>
                    <select id="fuel-type">
                        <option value="Diesel">Diesel</option>
                        <option value="Pilot Fuel">Pilot Fuel</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="chp-available">M: CHP Available</label>
                    <select id="chp-available">
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
            </div>
            
            <button id="calculate-btn">Perform Calculations</button>
            <div id="loading-message" style="display: none;">Loading data and calculating... This may take a moment.</div>
            <div id="error-message" style="display: none; color: red; margin-top: 10px;"></div>
        </div>
        
        <!-- Gas Development Tab -->
        <div class="tab-content" id="gas-development">
            <h2>Gas Development</h2>
            
            <div class="filter-controls">
                <div class="filter-group">
                    <label for="technology-select">Highlight Technology Operation:</label>
                    <select id="technology-select">
                        <option value="general">General</option>
                        <option value="dfe">Dual Fuel Engine</option>
                        <option value="oec">Oxygen Enrichment Combustion</option>
                        <option value="sfr">Spinning Fluids Reactor</option>
                    </select>
                </div>
            </div>
            
            <div class="chart-container">
                <canvas id="gas-volume-chart"></canvas>
            </div>
            <div class="chart-container">
                <canvas id="methane-content-chart"></canvas>
            </div>
        </div>
        
        <!-- General Results Tab -->
        <div class="tab-content" id="general-results">
            <h2>General Results</h2>
            
            <div class="filter-controls">
                <div class="filter-group">
                    <label for="impact-category">Impact Category:</label>
                    <select id="impact-category">
                        <!-- Dynamically filled -->
                    </select>
                </div>
            </div>
            
            <h3>Ecological Results</h3>
            <div class="chart-container">
                <canvas id="ecological-bar-chart"></canvas>
            </div>
            <div class="chart-container">
                <canvas id="ecological-line-chart"></canvas>
            </div>
            
            <h3>Economic Results</h3>
            <div class="results-grid">
                <div class="technology-card">
                    <div class="technology-icon">â›½</div>
                    <h4>Dual Fuel Engine</h4>
                    <div class="npv-value" id="npv-dfe">-</div>
                    <div>NPV</div>
                </div>
                <div class="technology-card">
                    <div class="technology-icon">ðŸ§ª</div>
                    <h4>Oxygen Enrichment</h4>
                    <div class="npv-value" id="npv-oec">-</div>
                    <div>NPV</div>
                </div>
                <div class="technology-card">
                    <div class="technology-icon">ðŸ”„</div>
                    <h4>Spinning Fluids Reactor</h4>
                    <div class="npv-value" id="npv-sfr">-</div>
                    <div>NPV</div>
                </div>
                <div class="technology-card">
                    <div class="technology-icon">ðŸ”¥</div>
                    <h4>Flare</h4>
                    <div class="npv-value" id="npv-flare">-</div>
                    <div>NPV</div>
                </div>
            </div>
        </div>
        
        <!-- Ecological Results Tab -->
        <div class="tab-content" id="ecological-results">
            <h2>Ecological Results</h2>
            
            <div class="filter-controls">
                <div class="filter-group">
                    <label for="eco-technology">Technology:</label>
                    <select id="eco-technology">
                        <option value="dfe">Dual Fuel Engine</option>
                        <option value="oec">Oxygen Enrichment</option>
                        <option value="sfr">Spinning Fluids Reactor</option>
                        <option value="flare">Flare</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="eco-year">Year:</label>
                    <select id="eco-year">
                        <option value="all">All Years</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="eco-impact">Impact Category:</label>
                    <select id="eco-impact">
                    </select>
                </div>
                <div class="filter-group">
                    <label for="life-stage">Life Stage:</label>
                    <select id="life-stage">
                        <option value="general">General</option>
                        <option value="detailed">Detailed</option>
                    </select>
                </div>
            </div>
            
            <div class="chart-container">
                <canvas id="ecological-detail-bar-chart"></canvas>
            </div>
            <div class="chart-container">
                <canvas id="ecological-detail-line-chart"></canvas>
            </div>
        </div>
        
        <!-- Economic Results Tab -->
        <div class="tab-content" id="economic-results">
            <h2>Economic Results</h2>
            
            <div class="filter-controls">
                <div class="filter-group">
                    <label for="econ-technology">Technology:</label>
                    <select id="econ-technology">
                        <option value="dfe">Dual Fuel Engine</option>
                        <option value="oec">Oxygen Enrichment</option>
                        <option value="sfr">Spinning Fluids Reactor</option>
                        <option value="flare">Flare</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="econ-year">Year:</label>
                    <select id="econ-year">
                        <option value="all">All Years</option>
                    </select>
                </div>
            </div>
            
            <div class="results-grid">
                <div>
                    <h3>Cost Distribution</h3>
                    <div class="chart-container">
                        <canvas id="economic-pie-chart"></canvas>
                    </div>
                    <div id="energy-revenue">
                        <h4>Energy Revenue</h4>
                        <p>Electrical: <span id="electrical-revenue">-</span> â‚¬</p>
                        <p>Thermal: <span id="thermal-revenue">-</span> â‚¬</p>
                    </div>
                </div>
                <div>
                    <h3>Financial Summary</h3>
                    <div class="financial-summary">
                        <p><strong>Revenue from Energy:</strong> <span id="total-energy-revenue">-</span> â‚¬</p>
                        <p><strong>Investment Cost:</strong> <span id="investment-cost">-</span> â‚¬</p>
                        <p><strong>Total Taxes Paid:</strong> <span id="total-taxes">-</span> â‚¬</p>
                        <p><strong>Net Present Value:</strong> <span id="detailed-npv">-</span> â‚¬</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Verification Tab -->
        <div class="tab-content" id="verification">
            <h2>Verification - Intermediate Results</h2>
            
            <div class="filter-controls">
                <div class="filter-group">
                    <label for="verification-category">Category:</label>
                    <select id="verification-category">
                        <option value="general">General Calculations</option>
                        <option value="dfe">Dual Fuel Engine</option>
                        <option value="oec">Oxygen Enrichment</option>
                        <option value="sfr">Spinning Fluids Reactor</option>
                        <option value="flare">Flare</option>
                    </select>
                </div>
            </div>
            
            <div id="verification-tables">
                <!-- Tables will be populated dynamically -->
            </div>
        </div>
    </div>

    <script src="webapp.js"></script>
</body>
</html>